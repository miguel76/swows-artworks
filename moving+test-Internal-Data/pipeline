<components/0>
	<http://www.swows.org/2013/09/pipeline#ID>
		"defaultInput";
	<http://www.swows.org/2013/09/pipeline#Name>
		"Default Input";
	<http://www.w3.org/1999/02/22-rdf-syntax-ns#type>
		<http://www.swows.org/2013/09/pipeline#inputdefault>.
<components/1/View>
	<http://www.swows.org/2013/09/pipeline#ConnectedComponentCode>
		<components/2>;
	<http://www.swows.org/2013/09/pipeline#Name>
		"View";
	<http://www.swows.org/2013/09/pipeline#Type>
		"FROM NAMED".
<components/1>
	<http://www.swows.org/2013/09/pipeline#InputList>
		<components/1/View>;
	<http://www.swows.org/2013/09/pipeline#Name>
		"Default Output";
	<http://www.w3.org/1999/02/22-rdf-syntax-ns#type>
		<http://www.swows.org/2013/09/pipeline#outputdefault>.
<components/222>
	<http://www.swows.org/2013/09/pipeline#ID>
		"touches";
	<http://www.swows.org/2013/09/pipeline#Name>
		"touches";
	<http://www.swows.org/2013/09/pipeline#Query>
		"INSERT {\n  ?s ?p ?o .\n}\nWHERE {\n  GRAPH <#touchEvent> {\n    ?s ?p ?o .\n  }\n}";
	<http://www.w3.org/1999/02/22-rdf-syntax-ns#type>
		<http://www.swows.org/2013/09/pipeline#updatable>.
<components/22>
	<http://www.swows.org/2013/09/pipeline#ID>
		"Images";
	<http://www.swows.org/2013/09/pipeline#Name>
		"Images";
	<http://www.swows.org/2013/09/pipeline#Query>
		"# Images from artworks of Amedeo Modigliani\nPREFIX fb: <http://rdf.freebase.com/ns/>\nPREFIX dbpedia: <http://dbpedia.org/resource/>\nPREFIX dbp-ont: <http://dbpedia.org/ontology/>\nPREFIX umbel-sc: <http://umbel.org/umbel/sc/>\nPREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\nPREFIX ff: <http://factforge.net/>\nPREFIX afn: <http://jena.hpl.hp.com/ARQ/function#>\n\nSELECT DISTINCT ?artwork ?image ?uri ?sizeX ?sizeY\nWHERE {\n    dbpedia:Amedeo_Modigliani fb:visual_art.visual_artist.artworks ?artwork .\n    ?artwork fb:common.topic.image ?image .\n    ?image\n\t\tfb:type.content.source ?source ;\n    \tfb:common.image.size ?size .\n    ?source fb:type.content_import.uri ?uri .\n    ?size\n        fb:measurement_unit.rect_size.x ?sizeX ;\n        fb:measurement_unit.rect_size.y ?sizeY .\n  \tBIND(afn:sqrt(20000*?sizeX/?sizeY) AS ?newSizeX) .\n   \tBIND(?newSizeX*?sizeY/?sizeX AS ?newSizeY) .\n\tBIND(?newSizeX*?newSizeY AS ?newSizeTot) .\n}";
	<http://www.w3.org/1999/02/22-rdf-syntax-ns#type>
		<http://www.swows.org/2013/09/pipeline#construct>.
<components/2>
	<http://www.swows.org/2013/09/pipeline#ID>
		"View";
	<http://www.swows.org/2013/09/pipeline#Name>
		"View";
	<http://www.swows.org/2013/09/pipeline#Query>
		"PREFIX nn:    <http://www.swows.org/xml/no-namespace#>\nPREFIX xml:   <http://www.swows.org/2013/07/xml-dom#>\nPREFIX svg:   <http://www.w3.org/2000/svg#>\nPREFIX xlink: <http://www.w3.org/1999/xlink#>\nPREFIX swi:   <http://www.swows.org/instance#>\n\nPREFIX fb: <http://rdf.freebase.com/ns/>\nPREFIX dbpedia: <http://dbpedia.org/resource/>\nPREFIX dbp-ont: <http://dbpedia.org/ontology/>\nPREFIX umbel-sc: <http://umbel.org/umbel/sc/>\nPREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\nPREFIX ff: <http://factforge.net/>\nPREFIX afn: <http://jena.hpl.hp.com/ARQ/function#>\n\nCONSTRUCT {\n\n  <#svgDoc>\n    a xml:Document ;\n    xml:hasChild <#svgElem> .\n\n  <#svgElem>\n    a svg:svg ;\n    nn:version \"1.1\" ;\n    nn:width ?windowWidth ;\n    nn:height ?windowHeight ;\n    xml:listenedEventType \"touchstart\", \"touchmove\", \"touchend\";\n    xml:hasChild <#centralImage>, <#infoBox>, <#topBar>, <#bottomBar>, <#leftBar>, <#rightBar>.\n\n  <#centralImage>\n    a svg:image ;\n    nn:x ?centralImageX ;\n    nn:y ?centralImageY ;\n    nn:width ?centralImageWidth ;\n    nn:height ?centralImageHeight ;\n    xlink:href ?mainImageURI .\n\n  <#infoBox> \n    a svg:g;\n    xml:hasChild <#infoBoxName>, <#infoBoxArtist>, <#infoBoxArtForm>, <#infoBoxArtGenre>, <#infoBoxArtSubject>, <#infoBoxDate>.\n\n  <#infoBoxName>\n    a svg:text ;\n    nn:x ?infoBoxX ;\n    nn:y ?infoBoxNameY ;\n    nn:width ?infoBoxWidth ;\n    nn:height ?infoBoxFieldHeight ;\n    xml:textContent ?nameStr .\n\n  <#infoBoxArtist>\n    a svg:text ;\n    nn:x ?infoBoxX ;\n    nn:y ?infoBoxArtistY ;\n    nn:width ?infoBoxWidth ;\n    nn:height ?infoBoxFieldHeight ;\n    xml:textContent ?artistStr .\n\n  <#infoBoxArtForm>\n    a svg:text ;\n    nn:x ?infoBoxX ;\n    nn:y ?infoBoxArtFormY ;\n    nn:width ?infoBoxWidth ;\n    nn:height ?infoBoxFieldHeight ;\n    xml:textContent ?artFormStr .\n\n  <#infoBoxArtGenre>\n    a svg:text ;\n    nn:x ?infoBoxX ;\n    nn:y ?infoBoxArtGenreY ;\n    nn:width ?infoBoxWidth ;\n    nn:height ?infoBoxFieldHeight ;\n    xml:textContent ?artGenreStr .\n\n  <#infoBoxArtSubject>\n    a svg:text ;\n    nn:x ?infoBoxX ;\n    nn:y ?infoBoxArtSubjectY ;\n    nn:width ?infoBoxWidth ;\n    nn:height ?infoBoxFieldHeight ;\n    xml:textContent ?artSubjectStr .\n\n  <#infoBoxDate>\n    a svg:text ;\n    nn:x ?infoBoxX ;\n    nn:y ?infoBoxDateY ;\n    nn:width ?infoBoxWidth ;\n    nn:height ?infoBoxFieldHeight ;\n    xml:textContent ?dateStr .\n\n  <#topBar> \n    a svg:g;\n    xml:hasChild <#topRect>.\n\n  <#topRect> \n    a svg:rect;\n    nn:x ?topBarX ;\n    nn:y ?topBarY ;\n    nn:width ?topBarWidth ;\n    nn:height ?topBarHeight .\n\n  <#bottomBar> \n    a svg:g;\n    xml:hasChild <#bottomRect>.\n\n  <#bottomRect> \n    a svg:rect;\n    nn:x ?bottomBarX ;\n    nn:y ?bottomBarY ;\n    nn:width ?bottomBarWidth ;\n    nn:height ?bottomBarHeight .\n\n  <#leftBar> \n    a svg:g;\n    xml:hasChild <#leftRect>.\n\n  <#leftRect> \n    a svg:rect;\n    nn:x ?leftBarX ;\n    nn:y ?leftBarY ;\n    nn:width ?leftBarWidth ;\n    nn:height ?leftBarHeight .\n\n  <#rightBar> \n    a svg:g;\n    xml:hasChild <#rightRect>.\n\n  <#rightRect> \n    a svg:rect;\n    nn:x ?rightBarX ;\n    nn:y ?rightBarY ;\n    nn:width ?rightBarWidth ;\n    nn:height ?rightBarHeight .\n\n}\nWHERE {\n  BIND('en' as ?language).\n  BIND(1000 as ?windowWidth).\n  BIND(600 as ?windowHeight).\n  BIND(10 as ?padding).\n  BIND(100 as ?smallImagesWidth).\n  BIND(100 as ?smallImagesHeight).\n\n  BIND(?smallImagesHeight as ?topBarHeight).\n  BIND(?smallImagesHeight as ?bottomBarHeight).\n  BIND(?smallImagesWidth as ?leftBarWidth).\n  BIND(?smallImagesWidth as ?rightBarWidth).\n\n  BIND(?leftBarWidth+2*?padding AS ?centralPanelX).\n  BIND(?topBarHeight+2*?padding AS ?centralPanelY).\n  BIND(?windowWidth-?leftBarWidth-?rightBarWidth-4*?padding AS ?centralPanelWidth).\n  BIND(?windowHeight-?topBarHeight-?bottomBarHeight-4*?padding AS ?centralPanelHeight).\n\n  BIND(?centralPanelWidth AS ?topBarWidth).\n  BIND(?centralPanelWidth AS ?bottomBarWidth).\n\n  BIND(?centralPanelX AS ?topBarX).\n  BIND(?padding AS ?topBarY).\n  BIND(?centralPanelX AS ?bottomBarX).\n  BIND(?centralPanelY+?centralPanelHeight+?padding AS ?bottomBarY).\n\n  BIND(?windowHeight-2*?padding AS ?leftBarHeight).\n  BIND(?windowHeight-2*?padding AS ?rightBarHeight).\n\n  BIND(?padding AS ?leftBarX).\n  BIND(?padding AS ?leftBarY).\n  BIND(?centralPanelX+?centralPanelWidth+?padding AS ?rightBarX).\n  BIND(?padding AS ?rightBarY).\n\n  BIND(250 as ?infoBoxWidth).\n#  BIND(80 as ?infoBoxHeight).\n  BIND(25 as ?infoBoxFieldHeight).\n\n  BIND(?centralPanelX+?infoBoxWidth AS ?centralImageX).\n  BIND(?centralPanelY AS ?centralImageY).\n  BIND(?centralPanelWidth-?infoBoxWidth AS ?centralImageWidth).\n  BIND(?centralPanelHeight AS ?centralImageHeight).\n\n  BIND(?centralPanelX AS ?infoBoxX).\n  BIND(?centralImageY AS ?infoBoxY).\n#  BIND(?centralPanelWidth AS ?infoBoxWidth).\n  BIND(?centralPanelHeight AS ?infoBoxHeight).\n\n  BIND(?infoBoxY+?infoBoxFieldHeight AS ?infoBoxNameY).\n  BIND(?infoBoxY+2*?infoBoxFieldHeight AS ?infoBoxArtistY).\n  BIND(?infoBoxY+3*?infoBoxFieldHeight AS ?infoBoxArtFormY).\n  BIND(?infoBoxY+4*?infoBoxFieldHeight AS ?infoBoxArtGenreY).\n  BIND(?infoBoxY+5*?infoBoxFieldHeight AS ?infoBoxArtSubjectY).\n  BIND(?infoBoxY+6*?infoBoxFieldHeight AS ?infoBoxDateY).\n\n  BIND(FLOOR((?topBarWidth-?smallImagesWidth)/(?smallImagesWidth+?padding)+1) AS ?numTopImages).\n  BIND(FLOOR((?bottomBarWidth-?smallImagesWidth)/(?smallImagesWidth+?padding)+1) AS ?numBottomImages).\n  BIND(FLOOR((?leftBarHeight-?smallImagesHeight)/(?smallImagesHeight+?padding)+1) AS ?numLeftImages).\n  BIND(FLOOR((?rightBarHeight-?smallImagesHeight)/(?smallImagesHeight+?padding)+1) AS ?numRightImages).\n\n  SERVICE <http://factforge.net/sparql> {\n    fb:m.063j6x5\n      fb:common.topic.image ?mainImage ;\n      fb:type.object.name ?name ;\n      fb:visual_art.artwork.artist ?artist ;\n      fb:visual_art.artwork.date_completed ?date_completed ;\n      fb:visual_art.artwork.art_form ?art_form ;\n      fb:visual_art.artwork.art_genre ?art_genre ;\n      fb:visual_art.artwork.art_subject ?art_subject ;\n      fb:common.topic.description ?mainDescription .\n    ?mainImage\n\tfb:type.content.source ?mainImageSource ;\n    \tfb:common.image.size ?size .\n    ?mainImageSource fb:type.content_import.uri ?mainImageURI .\n    ?size\n        fb:measurement_unit.rect_size.x ?sizeX ;\n        fb:measurement_unit.rect_size.y ?sizeY .\n    ?artist\n      fb:type.object.name ?artistName .\n    ?art_form fb:type.object.name ?artFormName .\n    ?art_genre fb:type.object.name ?artGenreName .\n    ?art_subject fb:type.object.name ?artSubjectName .\n    FILTER ( lang(?name) = ?language ).\n    FILTER ( lang(?artistName) = ?language ).\n    FILTER ( lang(?artFormName) = ?language ).\n    FILTER ( lang(?artGenreName) = ?language ).\n    FILTER ( lang(?artSubjectName) = ?language ).\n#    FILTER langMatches( lang(?artistName), ?language ) .\n\n    OPTIONAL {\n      ?diffArtistArtwork\n        fb:common.topic.image/fb:type.content.source ?da_ImageSource ;\n        fb:visual_art.artwork.artist ?da_artist ;\n        fb:visual_art.artwork.date_completed ?date_completed ;\n        fb:visual_art.artwork.art_form ?art_form ;\n        fb:visual_art.artwork.art_genre ?art_genre .\n      \n      FILTER(?diffArtistArtwork != fb:m.063j6x5).\n    }\n\n  }\n\n  BIND(CONCAT('Name: ',?name) AS ?nameStr).\n  BIND(CONCAT('Artist: ',?artistName) AS ?artistStr).\n  BIND(CONCAT('Form: ',?artFormName) AS ?artFormStr).\n  BIND(CONCAT('Genre: ',?artGenreName) AS ?artGenreStr).\n  BIND(CONCAT('Subject: ',?artSubjectName) AS ?artSubjectStr).\n  BIND(CONCAT('Date: ',?date_completed) AS ?dateStr).\n}\n";
	<http://www.w3.org/1999/02/22-rdf-syntax-ns#type>
		<http://www.swows.org/2013/09/pipeline#construct>.

